steps:
#requirements
- name: python
  entrypoint: python
  args: ['-m', 'pip', 'install', 'virtualenv']

- name: python
  entrypoint: python
  args: ['-m', 'venv', 'venv']

- name: python
  entrypoint: '/bin/bash'
  args: [ '-c', 'source /venv/bin/activate' ]

- name: python
  entrypoint: python
  args: ['-m', 'pip', 'install', '-r', 'requirements.txt']

- name: python
  entrypoint: python
  args: ['-m', 'pip', 'install', '-r', 'requirements-server.txt']

#unittest
- name: python
  entrypoint: python
  args: ['-m', 'unittest', 'discover'] 

# Docker Build
- name: 'gcr.io/cloud-builders/docker'
  args: ['build', '-t', 'us-docker.pkg.dev/${PROJECT_ID}/us.gcr.io/sample-ci-cd:${SHORT_SHA}', '.']

# Docker Push
#- name: 'gcr.io/cloud-builders/docker'
#  args: ['push', 'us-docker.pkg.dev/${PROJECT_ID}/us.gcr.io/sample-ci-cd:${SHORT_SHA}']

#Sonarcloud?

